<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="使用SpringBoot-Security"><meta name="keywords" content="security"><meta name="author" content="YoungDream,undefined"><meta name="copyright" content="YoungDream"><title>使用SpringBoot-Security【YD Blog】</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4"></script><!--link(rel="dns-prefetch" href="https://cdn.jsdelivr.net")--><!--link(rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css")--><!--script(src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer)--><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('请输入文章密码') !== '') {
        alert('密码错误！');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"0BGAOITLJQ","apiKey":"2c864a8b4720c83c2ddfc7e53d4c1711","indexName":"article_NAME","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
}</script></head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="toggle-sidebar-info button-hover"><span data-toggle="文章目录">站点概览</span></div><div class="sidebar-toc"><div class="sidebar-toc-title">目录</div><div class="sidebar-toc-progress"><span class="progress-notice">您已阅读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc-progress-bar"></div></div><div class="sidebar-toc-content" id="sidebar-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Security-安全"><span class="toc-number">1.</span> <span class="toc-text">Security(安全)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MVC安全性"><span class="toc-number">1.1.</span> <span class="toc-text">MVC安全性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#WebFlux安全性"><span class="toc-number">1.2.</span> <span class="toc-text">WebFlux安全性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OAuth2"><span class="toc-number">1.3.</span> <span class="toc-text">OAuth2</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#客户端"><span class="toc-number">1.3.1.</span> <span class="toc-text">客户端</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Resource-Server-资源服务器"><span class="toc-number">1.3.2.</span> <span class="toc-text">Resource Server(资源服务器)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Authorization-Server-授权服务器"><span class="toc-number">1.3.3.</span> <span class="toc-text">Authorization Server(授权服务器)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Actuator-Security-执行器安全性"><span class="toc-number">1.4.</span> <span class="toc-text">Actuator Security(执行器安全性)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#跨站点请求伪造保护"><span class="toc-number">1.4.1.</span> <span class="toc-text">跨站点请求伪造保护</span></a></li></ol></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">YoungDream</div><div class="author-info-description">正忙着优秀~~~</div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/qq994300880" target="_blank">GitHub<i class="icon-dot bg-color9"></i></a><a class="links-button button-hover" href="http://wpa.qq.com/msgrd?v=3&amp;uin=994300880&amp;site=qq&amp;menu=yes" target="_blank">QQ<i class="icon-dot bg-color0"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">日志</span><span class="pull-bottom">116</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">标签</span><span class="pull-bottom">75</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">分类</span><span class="pull-bottom">17</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">首页</a><a class="menu-item" href="/tags">标签</a><a class="menu-item" href="/categories">分类</a><a class="menu-item" href="/archives">归档</a><a class="menu-item" href="/about">关于</a></nav><div class="right-info"><a class="search social-icon"><i class="fas fa-search"></i><span> 搜索</span></a><a class="title-name" href="/">YD Blog</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><article id="post"><div class="post-header"><div class="title">使用SpringBoot-Security</div><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> 发表于 2019-03-20 | 更新于 2019-03-30</time><!--time.button-hover.post-date #[i.fas.fa-calendar-alt.article-icon(aria-hidden="true")] #[=__('post.modified')] #[=date(page['updated'], config.date_format)]--><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/springboot/">springboot</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/security/">security</a></div></div></div><div class="main-content"><h2 id="Security-安全"><a href="#Security-安全" class="headerlink" title="Security(安全)"></a>Security(安全)</h2><p>如果<a href="https://projects.spring.io/spring-security/" target="_blank" rel="noopener">Spring Security</a>位于类路径上，则默认情况下Web应用程序是安全的。Spring Boot依赖于Spring Security的内容协商策略来确定是否使用<code>httpBasic</code>或<code>formLogin</code>。要向Web应用程序添加方法级安全性，您还可以<code>@EnableGlobalMethodSecurity</code>使用所需的设置进行添加。其他信息可以在 <a href="https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/reference/htmlsingle#jc-method" target="_blank" rel="noopener">Spring Security Reference Guide中找到</a>。</p>
<a id="more"></a>
<p>默认设置<code>UserDetailsService</code>只有一个用户。用户名是<code>user</code>，密码是随机的，在应用程序启动时以INFO级别打印，如以下示例所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">使用生成的安全密码：78fa095d-3f4c-48b1-ad50-e24c31d5cf35</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果您对日志记录配置进行微调，请确保将 <code>org.springframework.boot.autoconfigure.security</code>类别设置为log <code>INFO</code>-level messages。否则，不会打印默认密码。</p>
</blockquote>
<p>您可以通过提供<code>spring.security.user.name</code>和 更改用户名和密码<code>spring.security.user.password</code>。</p>
<p>您在Web应用程序中默认获得的基本功能包括：</p>
<ul>
<li>A <code>UserDetailsService</code>（或<code>ReactiveUserDetailsService</code>WebFlux应用程序的情况）bean具有内存存储，单个用户具有生成的密码（请参阅<a href="https://docs.spring.io/spring-boot/docs/2.1.3.RELEASE/api/org/springframework/boot/autoconfigure/security/SecurityProperties.User.html" target="_blank" rel="noopener"><code>SecurityProperties.User</code></a> 用户的属性）。</li>
<li>基于表单的登录或HTTP基本安全性（取决于Content-Type）用于整个应用程序（如果执行器在类路径上，则包括执行器端点）。</li>
<li>一个<code>DefaultAuthenticationEventPublisher</code>用于发布身份验证事件。</li>
</ul>
<p>你可以<code>AuthenticationEventPublisher</code>通过为它添加一个bean 来提供不同的东西。</p>
<h3 id="MVC安全性"><a href="#MVC安全性" class="headerlink" title="MVC安全性"></a>MVC安全性</h3><p>默认安全配置在<code>SecurityAutoConfiguration</code>和中 实现<code>UserDetailsServiceAutoConfiguration</code>。<code>SecurityAutoConfiguration</code>导入<code>SpringBootWebSecurityConfiguration</code>Web安全性并 <code>UserDetailsServiceAutoConfiguration</code>配置身份验证，这也与非Web应用程序相关。要完全关闭默认Web应用程序安全配置，您可以添加类型的bean <code>WebSecurityConfigurerAdapter</code>（这样做不会禁用<code>UserDetailsService</code>配置或Actuator的安全性）。</p>
<p>为了还关闭<code>UserDetailsService</code>的配置，您可以添加类型的豆 <code>UserDetailsService</code>，<code>AuthenticationProvider</code>或<code>AuthenticationManager</code>。<a href="https://github.com/spring-projects/spring-boot/tree/v2.1.3.RELEASE/spring-boot-samples/" target="_blank" rel="noopener">Spring Boot示例中</a>有几个安全的应用程序可以帮助您开始使用常见的用例。</p>
<p>可以通过添加自定义来覆盖访问规则<code>WebSecurityConfigurerAdapter</code>。Spring Boot提供了便捷方法，可用于覆盖执行器端点和静态资源的访问规则。<code>EndpointRequest</code>可用于创建<code>RequestMatcher</code> 基于<code>management.endpoints.web.base-path</code>属性的。 <code>PathRequest</code>可用于<code>RequestMatcher</code>在常用位置创建资源。</p>
<h3 id="WebFlux安全性"><a href="#WebFlux安全性" class="headerlink" title="WebFlux安全性"></a>WebFlux安全性</h3><p>与Spring MVC应用程序类似，您可以通过添加<code>spring-boot-starter-security</code>依赖项来保护WebFlux应用程序。默认安全配置在<code>ReactiveSecurityAutoConfiguration</code>和中 实现<code>UserDetailsServiceAutoConfiguration</code>。<code>ReactiveSecurityAutoConfiguration</code>导入<code>WebFluxSecurityConfiguration</code>Web安全性并<code>UserDetailsServiceAutoConfiguration</code> 配置身份验证，这也与非Web应用程序相关。要完全关闭默认Web应用程序安全配置，您可以添加类型的bean <code>WebFilterChainProxy</code>（这样做不会禁用<code>UserDetailsService</code>配置或Actuator的安全性）。</p>
<p>要关闭<code>UserDetailsService</code>配置，可以添加类型为<code>ReactiveUserDetailsService</code>或的bean <code>ReactiveAuthenticationManager</code>。</p>
<p>可以通过添加自定义来配置访问规则<code>SecurityWebFilterChain</code>。Spring Boot提供了便捷方法，可用于覆盖执行器端点和静态资源的访问规则。<code>EndpointRequest</code>可用于创建 <code>ServerWebExchangeMatcher</code>基于<code>management.endpoints.web.base-path</code> 属性的。</p>
<p><code>PathRequest</code>可用于<code>ServerWebExchangeMatcher</code>在常用位置创建资源。</p>
<p>例如，您可以通过添加以下内容来自定义安全配置：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> SecurityWebFilterChain <span class="title">springSecurityFilterChain</span><span class="params">(ServerHttpSecurity http)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> http.authorizeExchange()</span><br><span class="line">			.matchers(PathRequest.toStaticResources().atCommonLocations()).permitAll()</span><br><span class="line">			.pathMatchers(<span class="string">"/foo"</span>, <span class="string">"/bar"</span>)</span><br><span class="line">			.authenticated().and()</span><br><span class="line">			.formLogin().and()</span><br><span class="line">			.build();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="OAuth2"><a href="#OAuth2" class="headerlink" title="OAuth2"></a>OAuth2</h3><p><a href="https://oauth.net/2/" target="_blank" rel="noopener">OAuth2</a>是Spring支持的一种广泛使用的授权框架。</p>
<h4 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h4><p>如果您具有<code>spring-security-oauth2-client</code>类路径，则可以利用某些自动配置来轻松设置OAuth2 / Open ID Connect客户端。此配置使用下的属性<code>OAuth2ClientProperties</code>。相同的属性适用于servlet和反应式应用程序。</p>
<p>您可以在<code>spring.security.oauth2.client</code>前缀下注册多个OAuth2客户端和提供程序 ，如以下示例所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">spring.security.oauth2.client.registration.my-client-1.client-id=abcd</span><br><span class="line">spring.security.oauth2.client.registration.my-client-1.client-secret=password</span><br><span class="line">spring.security.oauth2.client.registration.my-client-1.client-name=Client for user scope</span><br><span class="line">spring.security.oauth2.client.registration.my-client-1.provider=my-oauth-provider</span><br><span class="line">spring.security.oauth2.client.registration.my-client-1.scope=user</span><br><span class="line">spring.security.oauth2.client.registration.my-client-1.redirect-uri-template=http://my-redirect-uri.com</span><br><span class="line">spring.security.oauth2.client.registration.my-client-1.client-authentication-method=basic</span><br><span class="line">spring.security.oauth2.client.registration.my-client-1.authorization-grant-type=authorization_code</span><br><span class="line"></span><br><span class="line">spring.security.oauth2.client.registration.my-client-2.client-id=abcd</span><br><span class="line">spring.security.oauth2.client.registration.my-client-2.client-secret=password</span><br><span class="line">spring.security.oauth2.client.registration.my-client-2.client-name=Client for email scope</span><br><span class="line">spring.security.oauth2.client.registration.my-client-2.provider=my-oauth-provider</span><br><span class="line">spring.security.oauth2.client.registration.my-client-2.scope=email</span><br><span class="line">spring.security.oauth2.client.registration.my-client-2.redirect-uri-template=http://my-redirect-uri.com</span><br><span class="line">spring.security.oauth2.client.registration.my-client-2.client-authentication-method=basic</span><br><span class="line">spring.security.oauth2.client.registration.my-client-2.authorization-grant-type=authorization_code</span><br><span class="line"></span><br><span class="line">spring.security.oauth2.client.provider.my-oauth-provider.authorization-uri=http://my-auth-server/oauth/authorize</span><br><span class="line">spring.security.oauth2.client.provider.my-oauth-provider.token-uri=http://my-auth-server/oauth/token</span><br><span class="line">spring.security.oauth2.client.provider.my-oauth-provider.user-info-uri=http://my-auth-server/userinfo</span><br><span class="line">spring.security.oauth2.client.provider.my-oauth-provider.user-info-authentication-method=header</span><br><span class="line">spring.security.oauth2.client.provider.my-oauth-provider.jwk-set-uri=http://my-auth-server/token_keys</span><br><span class="line">spring.security.oauth2.client.provider.my-oauth-provider.user-name-attribute=name</span><br></pre></td></tr></table></figure>
<p>对于支持<a href="https://openid.net/specs/openid-connect-discovery-1_0.html" target="_blank" rel="noopener">OpenID Connect发现的</a> OpenID Connect提供程序，可以进一步简化配置。需要为提供程序配置一个<code>issuer-uri</code>URI，它将其声明为其颁发者标识符。例如，如果 <code>issuer-uri</code>提供的是“<a href="https://example.com”，`OpenID" target="_blank" rel="noopener">https://example.com”，`OpenID</a> Provider Configuration Request<code>则会进行“https://example.com/.well-known/openid-configuration”。结果预计是一个</code>OpenID Provider Configuration Response<code>。以下示例显示如何使用以下命令配置OpenID Connect Provider</code>issuer-uri`：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.security.oauth2.client.provider.oidc-provider.issuer-uri = https://dev-123456.oktapreview.com/oauth2/default/</span><br></pre></td></tr></table></figure>
<p>默认情况下，Spring Security <code>OAuth2LoginAuthenticationFilter</code>仅处理URL匹配<code>/login/oauth2/code/*</code>。如果要自定义<code>redirect-uri</code>以使用其他模式，则需要提供配置以处理该自定义模式。例如，对于servlet应用程序，您可以添加<code>WebSecurityConfigurerAdapter</code>类似于以下内容的应用程序：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OAuth2LoginSecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		http</span><br><span class="line">			.authorizeRequests()</span><br><span class="line">				.anyRequest().authenticated()</span><br><span class="line">				.and()</span><br><span class="line">			.oauth2Login()</span><br><span class="line">				.redirectionEndpoint()</span><br><span class="line">					.baseUri(<span class="string">"/custom-callback"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>OAuth2客户端注册常见providers</strong></p>
<p>对于常见的OAuth2和OpenID提供商，包括谷歌，Github上，Facebook和1563，我们提供了一组供应商默认的（<code>google</code>，<code>github</code>，<code>facebook</code>，和<code>okta</code>，分别）。</p>
<p>如果您不需要自定义这些提供程序，则可以将<code>provider</code>属性设置为需要推断默认值的属性。此外，如果客户端注册的密钥与默认支持的提供程序匹配，则Spring Boot也会推断出。</p>
<p>换句话说，以下示例中的两个配置使用Google提供程序：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">spring.security.oauth2.client.registration.my-client.client-id = abcd</span><br><span class="line">spring.security.oauth2.client.registration.my-client.client-secret = password</span><br><span class="line">spring.security.oauth2.client.registration.my- client.provider = google</span><br><span class="line"></span><br><span class="line">spring.security.oauth2.client.registration.google.client-id = abcd</span><br><span class="line">spring.security.oauth2.client.registration.google.client-secret = password</span><br></pre></td></tr></table></figure>
<h4 id="Resource-Server-资源服务器"><a href="#Resource-Server-资源服务器" class="headerlink" title="Resource Server(资源服务器)"></a>Resource Server(资源服务器)</h4><p>如果您具有<code>spring-security-oauth2-resource-server</code>类路径，则只要指定了JWK Set URI或OIDC Issuer URI，Spring Boot就可以设置OAuth2资源服务器，如以下示例所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.security.oauth2.resourceserver.jwt.jwk-set-uri = https://example.com/oauth2/default/v1/keys</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spring.security.oauth2.resourceserver.jwt.issuer-uri = https://dev-123456.oktapreview.com/oauth2/default/</span><br></pre></td></tr></table></figure>
<p>相同的属性适用于servlet和反应应用程序。</p>
<p>或者，您可以<code>JwtDecoder</code>为servlet应用程序或<code>ReactiveJwtDecoder</code>响应应用程序定义自己的bean 。</p>
<h4 id="Authorization-Server-授权服务器"><a href="#Authorization-Server-授权服务器" class="headerlink" title="Authorization Server(授权服务器)"></a>Authorization Server(授权服务器)</h4><p>目前，Spring Security不支持实施OAuth 2.0授权服务器。但是，此功能可从<a href="https://projects.spring.io/spring-security-oauth/" target="_blank" rel="noopener">Spring Security OAuth</a>项目获得，该项目最终将完全被Spring Security取代。在此之前，您可以使用该<code>spring-security-oauth2-autoconfigure</code>模块轻松设置OAuth 2.0授权服务器; 请参阅其<a href="https://docs.spring.io/spring-security-oauth2-boot" target="_blank" rel="noopener">文档</a>以获取说明</p>
<h3 id="Actuator-Security-执行器安全性"><a href="#Actuator-Security-执行器安全性" class="headerlink" title="Actuator Security(执行器安全性)"></a>Actuator Security(执行器安全性)</h3><p>出于安全考虑，默认情况下除了<code>/health</code>和<code>/info</code>禁用所有执行器。该<code>management.endpoints.web.exposure.include</code>属性可用于启用执行器。</p>
<p>如果春季安全是在类路径上，并没有其他WebSecurityConfigurerAdapter存在，比其他所有的驱动器<code>/health</code>，并<code>/info</code>通过春天开机自动配置安全。如果您定义自定义<code>WebSecurityConfigurerAdapter</code>，Spring Boot自动配置将退回，您将完全控制执行器访问规则。</p>
<blockquote>
<p>在设置之前<code>management.endpoints.web.exposure.include</code>，请确保暴露的执行器不包含敏感信息和/或通过将它们放在防火墙后面或通过Spring Security等方式进行保护。</p>
</blockquote>
<h4 id="跨站点请求伪造保护"><a href="#跨站点请求伪造保护" class="headerlink" title="跨站点请求伪造保护"></a>跨站点请求伪造保护</h4><p>由于Spring Boot依赖于Spring Security的默认值，因此默认情况下会启用CSRF保护。这意味着执行器端点需要<code>POST</code>（关闭和记录器端点），<code>PUT</code>或者<code>DELETE</code>在使用默认安全配置时将获得403禁止错误。</p>
<blockquote>
<p>我们建议仅在创建非浏览器客户端使用的服务时才完全禁用CSRF保护。</p>
</blockquote>
<p>有关CSRF保护的其他信息，请参阅“ <a href="https://docs.spring.io/spring-security/site/docs/5.1.4.RELEASE/reference/htmlsingle#csrf" target="_blank" rel="noopener">Spring Security参考指南”</a>。</p>
</div><div class="post-copyright"><div class="post-copyright-author"><span class="post-copyright-meta">本文作者: </span><span class="post-copyright-info"><a href="mailto:undefined">YoungDream</a></span></div><div class="post-copyright-type"><span class="post-copyright-meta">本文链接: </span><span class="post-copyright-info"><a href="http://qq994300880.github.io/2019/03/20/使用SpringBoot-Security/">http://qq994300880.github.io/2019/03/20/使用SpringBoot-Security/</a></span></div><div class="post-copyright-notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://qq994300880.github.io">YD Blog</a>！</span></div></div></article><div id="pagination"><div class="prev-post pull-left"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2019/03/20/使用SpringBoot-SQL数据库/"><i class="fas fa-angle-left">&nbsp;</i><span>使用SpringBoot-SQL数据库</span></a></div><div class="next-post pull-right"><span class="line line-top"></span><span class="line line-right"></span><span class="line line-bottom"></span><span class="line line-left"></span><a href="/2019/03/20/使用SpringBoot-开发Web应用程序/"><span>使用SpringBoot-开发Web应用程序</span><span>&nbsp;</span><i class="fas fa-angle-right"></i></a></div></div><!--div!= paginator()--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script><script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script><div id="gitalk-container"></div><script src="/js/gitalk.js"></script></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fas fa-file-o"></i></span><span id="busuanzi_value_page_pv"></span><span></span></div><div class="copyright">&copy;2019 By YoungDream</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/copy.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/clicklove.js"></script><!--script(src=url)--><div class="search-dialog"><div id="algolia-search-title">Algolia</div><div class="search-close-button"><i class="fa fa-times"></i></div><!--div#current-refined-values--><!--div#clear-all--><div id="search-box"></div><!--div#refinement-list--><hr><div id="hits"></div><div id="algolia-pagination"></div></div><div class="search-mask"></div><script src="/js/search/algolia.js"></script></body></html>